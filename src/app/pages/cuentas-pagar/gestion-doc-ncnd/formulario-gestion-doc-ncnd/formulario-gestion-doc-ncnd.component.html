<!-- <div class="intermitente" *ngIf="this.items.length !== 0 && this.rutaActual[1] === 'compras'">
	<p-accordion styleClass="intermitente">
		<p-accordionTab header="CLICK AQUI PARA INSERCION DE DATOS INICALES">       
		   <div class="card">
			   <p-toast></p-toast>
			   <p-steps [model]="items" [readonly]="true"></p-steps>
		   </div>
		   <router-outlet></router-outlet>
		   <app-step-toolbar [items]="this.items" [readonly]="true"></app-step-toolbar>
		</p-accordionTab>
	</p-accordion>
</div>
<br>
<button *ngIf="this.rutaActual[1] !== 'compras'" pButton pRipple label="Ir a Formulario de Proveedores" 
        icon="pi pi-chevron" type="button" class="p-button-lg p-d-block p-mx-auto" (click)="redirigir()">
</button>
<br> -->
<form (ngSubmit)="guardarDocumento()" [formGroup]="forma">
    <div class="p-fluid p-formgrid p-grid">
                
        <div class="p-field p-col-12 p-md-3">
            <label for="tipo_doc">Documento</label>
            <p-dropdown inputId="tipo_doc" [options]="documento" [class.ng-invalid]="getNoValido('tipo_doc')" [class.ng-dirty]="getNoValido('tipo_doc')" 
                        name="tipo_doc" formControlName="tipo_doc" id="drop-down" placeholder="Escoje.." optionLabel="label" (onChange)="tipoDoc($event.value)">
            </p-dropdown>
            <small *ngIf="getNoValido('tipo_doc')" class="p-invalid">Este campo es obligatorio.</small>
        </div>
        
         <div class="p-field p-col-12 p-md-3">
            <label for="num_doc">NO.</label>
            <span class=" p-input-icon-right">
                <input   type="text" pInputText formControlName="num_doc" maxlength="11" [class.ng-invalid]="getNoValido('num_doc')" 
                       [class.ng-dirty]="getNoValido('num_doc')">
            </span>
            <small *ngIf="getNoValido('num_doc')" class="p-invalid">Este campo es obligatorio.</small>
        </div>

        <div class="p-field p-col-12 p-md-3">
            <label for="cta_ctble">Cuenta</label>
            <span class=" p-input-icon-right">
                <input   type="text" pInputText formControlName="cta_ctble" maxlength="11" [class.ng-invalid]="getNoValido('cta_ctble')" 
                       [class.ng-dirty]="getNoValido('cta_ctble')">
            </span>
            <small *ngIf="getNoValido('cta_ctble')" class="p-invalid">Este campo es obligatorio.</small>
        </div>

        <div class="p-field p-col-12 p-md-3">
            <label for="cod_sp">Codigo Suplidor</label>
            <span class=" p-input-icon-right">
                <input   type="text" pInputText formControlName="cod_sp" maxlength="11" [class.ng-invalid]="getNoValido('cod_sp')" 
                       [class.ng-dirty]="getNoValido('cod_sp')">
            </span>
            <small *ngIf="getNoValido('cod_sp')" class="p-invalid">Este campo es obligatorio.</small>
        </div>

        <div class="p-field p-col-12 p-md-3">
            <label for="cod_sp_sec">Secuencia Suplidor</label>
            <span class=" p-input-icon-right">
                <input   type="text" pInputText formControlName="cod_sp_sec" maxlength="11" [class.ng-invalid]="getNoValido('cod_sp_sec')" 
                       [class.ng-dirty]="getNoValido('cod_sp_sec')">
            </span>
            <small *ngIf="getNoValido('cod_sp_sec')" class="p-invalid">Este campo es obligatorio.</small>
        </div>

        <div class="p-field p-col-12 p-md-3">
            <label for="fecha_orig">fecha</label>
            <span class=" p-input-icon-right">
                <p-calendar formControlName="fecha_orig" dateFormat="yy/mm/dd" inputId="fecha_orig" [readonlyInput]="true"
                            [class.ng-invalid]="getNoValido('fecha_orig')" [class.ng-dirty]="getNoValido('fecha_orig')">
                </p-calendar>
            </span>      
            <small *ngIf="getNoValido('fecha_orig')" class="p-invalid">Este campo es obligatorio.</small>                          
        </div>

        <div class="p-field p-col-12 p-md-3">
            <label for="monto_itbi">itbi</label>
            <span class=" p-input-icon-right">
                <input   type="text" pInputText formControlName="monto_itbi" maxlength="11" [class.ng-invalid]="getNoValido('monto_itbi')" 
                       [class.ng-dirty]="getNoValido('monto_itbi')">
            </span>
            <small *ngIf="getNoValido('monto_itbi')" class="p-invalid">Este campo es obligatorio.</small>
        </div>

        <div class="p-field p-col-12 p-md-3">
            <label for="valor">Valor</label>
            <span class=" p-input-icon-right">
                <input   type="text" pInputText formControlName="valor" maxlength="11" [class.ng-invalid]="getNoValido('valor')" 
                       [class.ng-dirty]="getNoValido('valor')">
            </span>
            <small *ngIf="getNoValido('valor')" class="p-invalid">Este campo es obligatorio.</small>
        </div>

        <div class="p-field p-col-12 p-md-3">
            <label for="codigo_fiscal">Tipo Gasto</label>
            <span class=" p-input-icon-right">
                <input   type="text" pInputText formControlName="codigo_fiscal" maxlength="11" [class.ng-invalid]="getNoValido('codigo_fiscal')" 
                       [class.ng-dirty]="getNoValido('codigo_fiscal')">
            </span>
            <small *ngIf="getNoValido('codigo_fiscal')" class="p-invalid">Este campo es obligatorio.</small>
        </div>

        <div class="p-field p-col-12 p-md-3">
            <label for="ncf">NCF</label>
            <span class=" p-input-icon-right">
                <input   type="text" pInputText formControlName="ncf" maxlength="11" [class.ng-invalid]="getNoValido('ncf')" 
                       [class.ng-dirty]="getNoValido('ncf')">
            </span>
            <small *ngIf="getNoValido('ncf')" class="p-invalid">Este campo es obligatorio.</small>
        </div>

        <div class="p-field p-col-12">
            <label for="detalle">Concepto</label>
            <textarea id="detalle" type="text" rows="4" pInputTextarea name="detalle" formControlName="detalle"
                      [class.ng-invalid]="getNoValido('detalle')" [class.ng-dirty]="getNoValido('detalle')">
            </textarea>
            <small *ngIf="getNoValido('detalle')" class="p-invalid">Este campo es obligatorio.</small>
        </div> 


      

        <!-- <p-panel header="Otras cuentas vinculadas al proveedor" [toggleable]="true">		
            <div formArrayName="cuentas_no">
                <p-toolbar>	
                    <div class="p-toolbar-group-left"></div>						
                    <div class="p-toolbar-group-right">
                        <button pButton pRipple label="Buscar cuentas" icon="pi pi-search" type="button" (click)="buscaCuentas()"></button>	
                    </div>
                </p-toolbar>
                <br>
                <p-table #dt [columns]="cols2" [value]="cgcatalogos" styleClass="p-datatable-responsive-demo p-datatable-gridlines p-datatable-striped"
                        [rowHover]="true" [rows]="20" [paginator]="true" [filterDelay]="0" 
                        [globalFilterFields]="['descripcion','cuenta_no','origen','tipo_cuenta','catalogo']">
                    
                    <ng-template pTemplate="caption">
                        <div class="table-header">
                            <span class="p-input-icon-left">
                                <i class="pi pi-search"></i>
                                <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Buscar...."/>
                            </span>
                        </div>
                    </ng-template>
                    
                    <ng-template pTemplate="header" let-columns>
                        <tr>
                            <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                                {{col.header}}									
                                <p-sortIcon [field]="col.field" *ngIf="col.field !== 'acciones'"></p-sortIcon>
                            </th>
                        </tr>
                    </ng-template>
    
                    <ng-template pTemplate="body" let-rowData let-columns="columns" let-i="rowIndex">
                        <tr [formGroupName]="i" class="p-selectable-row" [ngClass]="{'disable': rowData['cuenta_no'] === this.cuentaForm.value }">							
                            <td *ngFor="let col of columns" [ngClass]="{'centrar': col.field === 'acciones', 'disable': rowData['cuenta_no'] === this.cuentaForm.value }">
                                <span class="p-column-title">{{col.header}}</span>	
    
                                <span *ngIf="col.field === 'descripcion' || col.field === 'origen' || 
                                             col.field === 'tipo_cuenta' || col.field === 'cuenta_no'">
                                    {{rowData[col.field] | titlecase}}										
                                </span>
    
                                <span *ngIf="col.field === 'porciento'">
                                    <input type="number" pInputText formControlName="porciento" [readonly]="rowData['cuenta_no'] === this.cuentaForm.value"
                                           [ngClass]="{'read-only': rowData['cuenta_no'] === this.cuentaForm.value }" [class.ng-invalid]="getNoValidoArray('porciento', i)" 
                                           [class.ng-dirty]="getNoValidoArray('porciento', i)"/>
                                    <small *ngIf="getNoValidoArray('porciento', i)" class="p-invalid">Este campo es obligatorio.</small>
                                </span>
                                        
                                <span *ngIf="col.field === 'acciones'">
                                    <button pButton pRipple type="button" icon="pi pi-trash" class="p-button p-button-danger p-mr-2 p-mb-2" 
                                            (click)="borrarCatEscogido(i)" [disabled]="rowData['cuenta_no'] === this.cuentaForm.value">
                                    </button>
                                </span>
                            </td>								
                        </tr>
                    </ng-template>
                    
                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="8">No haz seleccionado ninguna cuenta.</td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="summary">
                        <div class="p-d-flex p-ai-center p-jc-between" *ngIf="cgcatalogos.length === 0">
                            No hay cuentas seleccionadas.
                        </div>
                        
                        <div class="p-d-flex p-ai-center p-jc-between" *ngIf="cgcatalogos.length !== 0">
                            {{cgcatalogos ? cgcatalogos.length : 0 }} cuenta seleccionada.
                        </div>
                    </ng-template>
                </p-table>
            </div>
        </p-panel>       -->
    </div>
    <br>
    <button *ngIf="this.guardar" pButton pRipple label="Guardar" icon="pi pi-save" type="submit"></button>
    <button *ngIf="this.actualizar" (click)="actualizarProveedor()" pButton pRipple label="Actualizar" icon="pi pi-user-edit" type="button" class="p-button-warning p-mr-2 p-mb-2"></button>
    <button *ngIf="this.actualizar" (click)="cancelar()" pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-secondary p-mr-2 p-mb-2"></button> 
</form>
<span>{{this.forma.status | json}}</span>
<br>
